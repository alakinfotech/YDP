package com.example.ydp;

import android.annotation.SuppressLint;
import android.app.Activity;
import android.os.Bundle;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.Toast;

public class YDPWEBVIEW extends Activity {
	WebView wb;
	@SuppressLint("SetJavaScriptEnabled")
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
	super.onCreate(savedInstanceState);
	setContentView(R.layout.webview);
	wb = (WebView) findViewById(R.id.webView1);
	WebSettings webSettings = wb.getSettings();
	webSettings.setJavaScriptEnabled(true);
	// wb.loadUrl("http://www.yourdoctorprogram.com/");
	 
	
	 wb.loadUrl("javascript:testEcho('Hello World!')");
	wb.loadUrl("javascript:(function () { " + "testEcho(Hello World!);" + "})()");
	wb.getSettings().setJavaScriptEnabled(true);
	Object myJSInterface = null;
	// register class containing methods to be exposed to JavaScript
	wb.addJavascriptInterface(myJSInterface, "JSInterface"); 
	}


public class JSInterface{

private WebView mAppView;
public JSInterface  (WebView appView) {
        this.mAppView = appView;
    }

    public void doEchoTest(String echo){
        Toast toast = Toast.makeText(mAppView.getContext(), echo, Toast.LENGTH_SHORT);
        toast.show();
    }
}
}